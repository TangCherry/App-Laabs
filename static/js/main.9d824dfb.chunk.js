(this.webpackJsonplaaps=this.webpackJsonplaaps||[]).push([[0],{24:function(e,a,t){},25:function(e,a,t){},28:function(e,a,t){e.exports=t.p+"static/media/LaapsIcon.1bcbadff.svg"},29:function(e,a,t){e.exports=t.p+"static/media/LaapsText.f675fd48.svg"},30:function(e,a,t){e.exports=t.p+"static/media/arrow_back.a3ac0ac1.svg"},31:function(e,a,t){e.exports=t.p+"static/media/men.42f3dd91.png"},32:function(e,a,t){e.exports=t.p+"static/media/card.ca90785c.svg"},34:function(e,a,t){e.exports=t(54)},39:function(e,a,t){},51:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(26),r=t.n(c),l=(t(39),t(4)),i=t.n(l),o=t(33),u=t(9),m=t(3),d=t(10),f=t(1),p=t(13),E=t.n(p);t(41),t(45),t(55);E.a.initializeApp({apiKey:"AIzaSyBoW19eP8q0wierHFbYwHw0clhw9b3PzLs",authDomain:"app-labs-ad87f.firebaseapp.com",databaseURL:"https://app-labs-ad87f.firebaseio.com",projectId:"app-labs-ad87f",storageBucket:"app-labs-ad87f.appspot.com",messagingSenderId:"76663318652",appId:"1:76663318652:web:be205f6cff445e899641f9",measurementId:"G-WRNSP87WG5"});var h=E.a.firestore(),b=E.a.auth(),g=E.a.storage();var v=Object(f.f)((function(e){var a=e.history,t=Object(n.useState)(null),c=Object(m.a)(t,2),r=(c[0],c[1]);return Object(n.useEffect)((function(){b.currentUser?(console.log("vive"),r(b.currentUser)):(console.log("no vive"),a.push("/"))}),[]),s.a.createElement("div",null)}));var N=function(){return{getProfileData:function(){var e=Object(u.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.a.auth().currentUser.uid,e.next=3,h.collection("user").doc(a).get();case 3:return t=e.sent,e.abrupt("return",t.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},k=t(28),w=t.n(k),x=t(29),j=t.n(x),O=t(30),y=t.n(O);t(51);var S=function(e){return e.history,s.a.createElement("nav",{className:"navbar media is-fixed-top transparent",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("img",{className:"",src:y.a})),s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("div",{className:"file is-fixed-top"},s.a.createElement("img",{className:"",src:w.a}))),s.a.createElement("div",{className:"navbar-item"},s.a.createElement("img",{className:"",src:j.a})))},C=t(31),P=t.n(C);t(24);var I=Object(f.f)((function(e){var a=e.history;return s.a.createElement("section",null,s.a.createElement("section",{className:"background-landing"},s.a.createElement(S,null),s.a.createElement("div",null,s.a.createElement("p",{className:"slogan"},"Limpieza en tu auto y en tu agenda")),s.a.createElement("div",{className:"buttons is-right"},s.a.createElement("button",{className:"button button-subscribe",onClick:function(){a.push("/Social")}},"Suscr\xedbete"),s.a.createElement("a",{className:"link has-text-white",onClick:function(){a.push("/SignIn")}},"O Ingresa"))),s.a.createElement("div",{className:"men-landing"},s.a.createElement("img",{src:P.a})))}));t(25);var U=function(e){var a=e.history,t=Object(n.useCallback)((function(){var e=new E.a.auth.GoogleAuthProvider;E.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken;var t=e.user;a.push("/Profile"),console.log("te registraste :p"),h.collection("user").doc(t.uid).set({email:t.email,uid:t.uid,name:t.displayName,userName:t.displayName,photo:t.photoURL})})).catch((function(e){e.code,e.message,e.email,e.credential}))}),[]);return s.a.createElement("div",null,s.a.createElement("button",{id:"googleSignIn",className:"button is-medium is-google",onClick:function(e){return t()}},s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fab fa-google"})),s.a.createElement("span",null,"Enlazar a Google")))};var L=function(){return Object(n.useCallback)((function(){var e=new E.a.auth.FacebookAuthProvider;E.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken,e.user})).catch((function(e){e.code,e.message,e.email,e.credential}))}),[]),s.a.createElement("div",null,s.a.createElement("button",{id:"facebookSignIn",className:"button is-medium is-facebook"},s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fab fa-facebook"}," ")),s.a.createElement("span",null,"Enlazar a Facebook")))};var A=Object(f.f)((function(e){var a=e.history,t=Object(n.useState)(""),c=Object(m.a)(t,2),r=c[0],l=c[1],i=Object(n.useState)(""),o=Object(m.a)(i,2),u=o[0],d=o[1],f=Object(n.useState)(null),p=Object(m.a)(f,2),h=p[0],g=p[1];Object(n.useEffect)((function(){E.a.auth().currentUser&&a.push("/Profile")}),[E.a.auth().currentUser]);var v=Object(n.useCallback)((function(){b.signInWithEmailAndPassword(r,u).then((function(){l(""),d(""),g(null),a.push("/Profile")})).catch((function(e){switch(e.code){case"auth/invalid-email":g("El formato del email es incorrecto");break;case"auth/weak-password":g("La contrase\xf1a debe ser de m\xednimo 6 caracteres");break;case"auth/email-already-in-use":g("Este email ya esta en uso");break;case"auth/wrong-password":g("La contrase\xf1a es incorrecta o el usuario no tiene password");break;case"auth/user-not-found":g("Usuario no encontrado");break;default:return}}))}),[r,u,a]);return s.a.createElement("section",{className:"section"},s.a.createElement(S,null),s.a.createElement("div",null,s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("p",{className:"has-text-white"},"Ingresa a tu servicio"),s.a.createElement(L,null),s.a.createElement(U,null)),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("p",{className:"has-text-white"},"o")),s.a.createElement("section",{className:"field"},s.a.createElement("div",{className:"file is-small file is-centered"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{id:"logEmail",name:"email",className:"input is-rounded","data-testid":"email",type:"email",placeholder:"Email",onChange:function(e){return l(e.target.value)},value:r}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-check"}))))),s.a.createElement("section",{className:"field file is-small file is-centered"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{id:"logPassword",className:"input is-rounded ",type:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)},value:u}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field file is-centered"},h&&s.a.createElement("p",{className:"has-text-danger is-centered","data-testid":"error-msg"},h))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"buttons is-right"},s.a.createElement("button",{id:"logIn","data-testid":"btn-login",className:"button-laaps button is-medium",onClick:v},"Ingresar"))))}));var W=Object(f.f)((function(e){var a=e.history,t=Object(n.useState)(""),c=Object(m.a)(t,2),r=c[0],l=c[1],o=Object(n.useState)(""),d=Object(m.a)(o,2),f=d[0],p=d[1],b=Object(n.useState)(""),g=Object(m.a)(b,2),v=g[0],N=g[1],k=Object(n.useState)(null),w=Object(m.a)(k,2),x=w[0],j=w[1],O=Object(n.useCallback)(Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.auth().createUserWithEmailAndPassword(r,v);case 3:return t=e.sent,e.next=6,h.collection("user").doc(t.user.uid).set({email:t.user.email,name:f,uid:t.user.uid,credentials:"client"});case 6:l(""),N(""),j(null),a.push("/Profile"),e.next=28;break;case 12:e.prev=12,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?17:"auth/weak-password"===e.t1?19:"auth/email-already-in-use"===e.t1?21:"auth/wrong-password"===e.t1?23:"auth/user-not-found"===e.t1?25:27;break;case 17:return j("El formato del email es incorrecto"),e.abrupt("break",28);case 19:return j("La contrase\xf1a debe ser de m\xednimo 6 caracteres"),e.abrupt("break",28);case 21:return j("Este email ya esta en uso"),e.abrupt("break",28);case 23:return j("La contrase\xf1a es incorrecta o el usuario no tiene password"),e.abrupt("break",28);case 25:return j("Usuario no encontrado"),e.abrupt("break",28);case 27:return e.abrupt("return");case 28:case"end":return e.stop()}}),e,null,[[0,12]])}))));return s.a.createElement("section",{className:"section background-login"},s.a.createElement(S,null),s.a.createElement("div",null,s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("p",{className:"has-text-white"},"S\xf3lo necesitamos algunos datos antes de comenzar")),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"field file is-small file is-centered "},s.a.createElement("input",{id:"regName",name:"name",className:"input is-rounded ","data-testid":"name",type:"name",placeholder:"Nombre",onChange:function(e){return p(e.target.value)}})),s.a.createElement("div",{className:"field file is-small file is-centered "},s.a.createElement("p",{className:"control has-icons-left has-icons-right "},s.a.createElement("input",{id:"regEmail",name:"email",className:"input is-rounded ","data-testid":"email",type:"email",placeholder:"Email",onChange:function(e){return l(e.target.value)},value:r}),s.a.createElement("span",{className:"icon is-small is-left "},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-check"}))))),s.a.createElement("div",{className:"field file is-small file is-centered"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{id:"regPassword","data-testid":"pass",className:"input is-rounded",type:"password",placeholder:"Password",onChange:function(e){return N(e.target.value)},value:v}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field file is-centered"},x&&s.a.createElement("p",{className:"has-text-danger is-centered","data-testid":"error-msg"},x),s.a.createElement("p",{className:"has-text-danger is-centered",id:"errMsg"}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"buttons is-right"},s.a.createElement("button",{id:"register","data-testid":"btn-register",className:"button-laaps button is-medium",onClick:O},s.a.createElement("span",null,"Listo"),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-check"}))))))})),R=(t(52),t(53),t(32)),z=t.n(R);var G=Object(f.f)((function(e){var a=e.history,t=Object(n.useState)(""),c=Object(m.a)(t,2),r=c[0],l=c[1],o=Object(n.useState)(""),d=Object(m.a)(o,2),f=d[0],p=d[1],k=function(){var e=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.a.auth().currentUser.uid,e.next=3,h.collection("user").doc(a).update({phone:f});case 3:console.log("Guardao",k);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark((function e(a){var t,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.a.auth().currentUser.uid,e.next=3,g.ref().child(t).child("Foto perfil");case 3:return n=e.sent,e.next=6,n.put(a);case 6:return e.next=8,n.getDownloadURL();case 8:return s=e.sent,e.next=11,h.collection("user").doc(t).update({photo:s});case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,N().getProfileData)().then((function(e){l(e.name)})),s.a.createElement("section",{className:"section"},s.a.createElement(v,null),s.a.createElement(S,null),s.a.createElement("div",{className:"control"},s.a.createElement("div",{className:"file is-centered"},s.a.createElement("p",{className:"has-text-white"},r)),s.a.createElement("div",{className:"control"},s.a.createElement("div",{className:"file is-centered"},s.a.createElement("figure",{className:"image is-96x96"},s.a.createElement("img",{id:"showImg",className:"is-rounded",src:"https://i.ibb.co/F77rJHx/hombre2.jpg"}))),s.a.createElement("div",{className:"file is-centered is-small radius"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{id:"profilePicture",className:"file-input ",type:"file",accept:"image/x-png,image/gif,image/jpeg",name:"profile",onChange:function(e){return function(e){var a=e.target.files[0];console.log("imagen perfil",e.target.files[0]),w(a)}(e)}}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-icon"},s.a.createElement("i",{className:"fas fa-upload"})),s.a.createElement("span",{className:"file-label",htmlFor:"profilePicture"},"Editar foto de perfil")))),s.a.createElement("div",{className:"file is-centered"},s.a.createElement("a",{id:"logout",className:"material-icons has-text-white",onClick:function(){b.signOut().then((function(){a.push("/")}))}},"Cerrar Sesi\xf3n"," ")),s.a.createElement("div",{className:"has-text-centered has-text-black title is-6"},s.a.createElement("div",null),s.a.createElement("div",{className:"field"}),s.a.createElement("p",null,"\xbfCu\xe1l es tu medio preferido de pago?"),s.a.createElement("button",{className:"button is-primary is-inverted is-outlined no-border"},s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("img",{className:"card-icon",src:z.a})),s.a.createElement("span",null," REGISTRAR TARJETA ")),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"file is-centered"},s.a.createElement("div",{className:"control"},s.a.createElement("p",null,"Tel\xe9fono"),s.a.createElement("input",{id:"phone",className:"input is-rounded",type:"",placeholder:"55-1234-5678",onChange:function(e){return p(e.target.value)}}),s.a.createElement("button",{id:"confirm",className:"button-laaps button is-medium",onClick:function(){return k()}},"Guardar perfil"))))))))}));var T=Object(f.f)((function(e){var a=e.history;return s.a.createElement("section",{className:"section background-login"},s.a.createElement(S,null),s.a.createElement("div",{className:"buttons is-centered"},s.a.createElement(U,{history:a}),s.a.createElement(L,{history:a})),s.a.createElement("div",{className:"has-text-centered"},s.a.createElement("p",{className:"has-text-white"},"o")),s.a.createElement("button",{className:"button",onClick:function(){a.push("/SignUp")}},"Con tu correo"))}));var F=function(e){e.history;var a=Object(n.useState)(!1),t=Object(m.a)(a,2),c=t[0],r=t[1],l=Object(n.useState)(!1),p=Object(m.a)(l,2),E=p[0],g=p[1];return Object(n.useEffect)((function(){b.onAuthStateChanged((function(e){e?(r(e),console.log(c),console.log(c)):r(null)})),function(){var e=Object(u.a)(i.a.mark((function e(){var a,t,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=b.currentUser){e.next=4;break}return e.abrupt("return");case 4:return t=a.uid,console.log("yo merengues",t),e.next=8,h.collection("user").doc(t).get();case 8:n=e.sent,console.log(n),s=Object(o.a)({user:n.user},n.data()),g(s),console.log(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()()}),[]),0!=c?s.a.createElement(d.a,null,s.a.createElement(f.c,null,s.a.createElement(f.a,{path:"/",exact:!0},s.a.createElement(I,null)),s.a.createElement(f.a,{path:"/Social"},s.a.createElement(T,{history:!0})),s.a.createElement(f.a,{path:"/SignIn"},s.a.createElement(A,null)),s.a.createElement(f.a,{path:"/Signup"},s.a.createElement(W,null)),s.a.createElement(f.a,{path:"/Profile"},s.a.createElement(G,{name:E,firebaseUser:c})))):s.a.createElement("p",null,"Cargando...")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.9d824dfb.chunk.js.map